syntax = "proto3";

option csharp_namespace = "MixedDbDistributionGrpcClient";

package accessor;

service Accessor {
	rpc Ping (PingRequest) returns (PingReply);
	rpc GetPractices(PracticesRequest) returns (PracticesReply);
	rpc GetRemedies(RemedyRequest) returns (RemedyReply);
	rpc GetPatientsForPractice(PatientRequest) returns (PatientReply);
}

message PingRequest {
	string payload = 1;
}

message PingReply {
	string message = 1;
}

message PracticeObj {
	string ik = 1;
	string name = 2;
	string company = 3;
}

message PracticesRequest {
	repeated string iks = 1;
}

message PracticesReply {
	repeated PracticeObj practices = 1;
}

message RemedyObj {
	string diagnosis = 1;
	string name = 2;
	bool isFixed = 3;
}

message RemedyRequest {
	bool fixedOnly = 1;
}

message RemedyReply {
	repeated RemedyObj remedies = 1;
}

message PatientObj {
	string kvNummer = 1;
	string practiveIk = 2;
	string name = 3;
	int32 age = 4;
}

message PatientRequest {
	string practiceIk = 1;
}

message PatientReply {
	repeated PatientObj patients = 1;
}